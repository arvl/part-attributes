<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <title>Simple DOM example</title>

  </head>
  <style>p {color:#000000;font-size:16px;}</style>
  <body>
    <div id="pb">
<div id="foo">
    <div slot="name"><h1>Hello</h1></div>
    <p>Hello</p>
</div>
</div>
  </body>
  <script>
    const existingElement = document.getElementById('foo');
    const shadow = existingElement.attachShadow({mode: 'open'}); 

    const divvy = document.createElement('slot');
    const test = '<slot name="name"></slot>';
    shadow.appendChild(divvy);
    divvy.setAttribute('name', 'divvy');
    divvy.insertAdjacentHTML('beforeEnd',test);

    const contentdiv = document.createElement('div');
    divvy.appendChild(contentdiv);
    contentdiv.setAttribute('class', 'text');
    const styles = document.createElement('style');
    styles.textContent = '.text { background-color: red; width:32px;height:32px;display:block;position:absolute;left:0;top:0};';

    shadow.append(styles);
let content = document.getElementById('pb').outerHTML;
console.log(content);
    </script>
</html>